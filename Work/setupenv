function defaultJavaVersion() {
  JV=5
}
function defaultSvnBranch() {
  export CURRENT_BRANCH=SVR_3a_Opt
}
function defaults() {
  defaultJavaVersion
  defaultSvnBranch
}
function setFromArg() {
  OLD_IFS="$IFS"
  IFS="="
  args=( $1 )
  IFS="$OLD_IFS"
  name=${args[0]}
  value=${args[1]}
  #echo name=$name
  #echo value=$value
  if [ "$name" = "j" ]
  then
    JV=${value}
  fi
  if [ "$name" = "b" ]
  then
    export CURRENT_BRANCH=${value}
  fi
  #echo "inside: ...........jv = $JV"
}
function handleArg() {
  OLD_IFS="$IFS"
  IFS=","
  args=( $1 )
  IFS="$OLD_IFS"
  arg1=${args[0]}
  arg2=${args[1]}
echo "arg1=$arg1"
echo "arg2=$arg2"
  setFromArg $arg1
  setFromArg $arg2
}
function cmdLine() {
  defaults
  if [ "x$1" != "x" ]
  then
    handleArg $1 
  fi
}
echo 'setting up work environment'
export SCRIPTS_HOME=${HOME}/Scripts
source ${SCRIPTS_HOME}/setupenv
export PATH=${SCRIPTS_HOME}/Work:${PATH}
export JAVA_ROOT=/System/Library/Frameworks/JavaVM.framework/Versions
cmdLine $1
echo JV=$JV
echo BRANCH=${CURRENT_BRANCH}
if [ "x$JV" = "x5" ]
then
  export JAVA_HOME=${JAVA_ROOT}/1.5
else
  export JAVA_HOME=${JAVA_ROOT}/CurrentJDK
fi

#aliases
export PATH=${JAVA_HOME}/bin:${PATH}
export SVN_REPO=https://tigra.apple.com/svn/tatsu
export WORK=${HOME}/Work
export TATSU_HOME=${WORK}/tatsu-${CURRENT_BRANCH}
export JBOSS_HOME=${WORK}/jboss
export TAS_HOME=${TATSU_HOME}/TAS
alias cotatsu='cd ${WORK}; svn co ${SVN_REPO}/branch/${CURRENT_BRANCH} tatsu-${CURRENT_BRANCH} --username kmhaswade'
alias lstatsu='svn ls ${SVN_REPO}'
#follow http://linuxproblem.org/art_9.html
alias iceman='ssh tatsud@iceman'
alias swag8='ssh tatsud@swag8'

#locations
alias cdtatsu='cd ${TATSU_HOME}'
alias cdtas='cd ${TAS_HOME}'
alias cdbld='cdtas; cd ..'
alias cdjh='cd ${JAVA_HOME}'
alias cdscripts='cd ${SCRIPTS_HOME}/Work'
alias cdjb='cd ${JBOSS_HOME}'
alias maven=mvn
#output
java -version
mvn -v
echo "Path=${PATH}"
